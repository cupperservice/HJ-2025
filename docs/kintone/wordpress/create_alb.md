# ALB を構築する
Application Load Balancer を作成して WordPress サーバーへのトラフィックをルーティングします。

## ALB 作成ウィザードを開く

### EC2 ロードバランシング メニューから ALB を選択する
EC2 サービスに移動して、左メニューから「ロードバランシング」から「ロードバランサー」を選択し、「ロードバランサーの作成」を押します。

### Application Load Balancer を選択する
ロードバランサータイプとして Application Load Balancer を選択します。

## ALB の基本設定を構成する

### ロードバランサーの基本設定を入力する
基本的な設定を以下のように構成します。

- ロードバランサー名: alb
- スキーム: 変更なし（インターネット向け）
- ロードバランサーのIPアドレスタイプ: 変更なし（IPv4）

<img src="./img/alb_1.png" width="500px"/>

## ネットワークマッピングを設定する

### VPC とアベイラビリティーゾーンを選択する
ネットワークマッピングを以下のように構成します。

- VPC: 作成した VPC を選択
- IP プール: 変更なし（チェックしない）
- アベイラビリティーゾーンとサブネット: AZ を 2 つ選択し、パブリックサブネットを選択

<img src="./img/alb_2.png" width="500px"/>

## セキュリティグループを設定する

### ALB 用セキュリティグループを選択する
セキュリティグループを以下のように構成します。

- [x] alb-sg を選択
- [ ] default を外す

## リスナーとルーティングを設定する

### HTTPS リスナーを設定する
リスナーとルーティングを以下のように構成します。

- プロトコル: HTTPS
- ポート: 443
- デフォルトアクション: ターゲットグループを選択

<img src="./img/alb_3.png" width="500px"/>

<img src="./img/alb_4.png" width="500px"/>

## ALB の作成を完了する

### 構成内容を確認して ALB を作成する
設定内容を確認して、「ロードバランサーの作成」ボタンを押して ALB を作成します。
